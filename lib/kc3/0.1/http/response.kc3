defmodule HTTP.Response do

  defstruct [protocol: "HTTP/1.1",
             code: (U16) 200,
             message: "OK",
             headers: [{"Content-Type", "text/html"}],
             body: ""]

  dlopen(__DIR__ + "../http.so")

  def default_messages = [{(U16) 200, "OK"},
                          {(U16) 404, "Not Found"},
                          {(U16) 500, "Internal Server Error"}]

  def buf_write = cfn Sw "http_response_buf_write" (HTTP.Response, Buf)

end

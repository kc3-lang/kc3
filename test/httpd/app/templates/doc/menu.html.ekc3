<ul>
  <%= raw List.join(List.map(index, fn (file) {
    """
  <li>
    <a href="#{URL.escape(file.url)}">#{HTML.escape(file.name)}</a>
    #{if (file.type == :dir) do
        let %{index: file.items} do
          EKC3.render_file("app/templates/doc/menu.html.ekc3")
        end
      else
        ""
      end}
  </li>
"""}), "\n") %>
</ul>

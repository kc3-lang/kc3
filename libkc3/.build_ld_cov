#!/bin/sh
# gen by configure
LOG=".build/$1.cov.log"
CC="cc"
CFLAGS=" -W -Wall -Werror -std=c11 -pedantic -pipe -pthread -I/usr/local/include -fprofile-arcs -ftest-coverage"
LDFLAGS="-export-dynamic  -no-undefined -rdynamic --coverage"
OBJECTS=" ../libtommath/bn_cutoffs.cov.lo ../libtommath/bn_mp_2expt.cov.lo ../libtommath/bn_mp_abs.cov.lo ../libtommath/bn_mp_add.cov.lo ../libtommath/bn_mp_add_d.cov.lo ../libtommath/bn_mp_and.cov.lo ../libtommath/bn_mp_clamp.cov.lo ../libtommath/bn_mp_clear.cov.lo ../libtommath/bn_mp_clear_multi.cov.lo ../libtommath/bn_mp_cmp.cov.lo ../libtommath/bn_mp_cmp_d.cov.lo ../libtommath/bn_mp_cmp_mag.cov.lo ../libtommath/bn_mp_cnt_lsb.cov.lo ../libtommath/bn_mp_complement.cov.lo ../libtommath/bn_mp_copy.cov.lo ../libtommath/bn_mp_count_bits.cov.lo ../libtommath/bn_mp_div.cov.lo ../libtommath/bn_mp_div_2.cov.lo ../libtommath/bn_mp_div_2d.cov.lo ../libtommath/bn_mp_div_3.cov.lo ../libtommath/bn_mp_div_d.cov.lo ../libtommath/bn_mp_dr_is_modulus.cov.lo ../libtommath/bn_mp_dr_reduce.cov.lo ../libtommath/bn_mp_dr_setup.cov.lo ../libtommath/bn_mp_error_to_string.cov.lo ../libtommath/bn_mp_exch.cov.lo ../libtommath/bn_mp_exptmod.cov.lo ../libtommath/bn_mp_gcd.cov.lo ../libtommath/bn_mp_get_double.cov.lo ../libtommath/bn_mp_get_i32.cov.lo ../libtommath/bn_mp_get_i64.cov.lo ../libtommath/bn_mp_get_mag_u32.cov.lo ../libtommath/bn_mp_get_mag_u64.cov.lo ../libtommath/bn_mp_grow.cov.lo ../libtommath/bn_mp_init.cov.lo ../libtommath/bn_mp_init_copy.cov.lo ../libtommath/bn_mp_init_multi.cov.lo ../libtommath/bn_mp_init_size.cov.lo ../libtommath/bn_mp_invmod.cov.lo ../libtommath/bn_mp_lcm.cov.lo ../libtommath/bn_mp_lshd.cov.lo ../libtommath/bn_mp_mod.cov.lo ../libtommath/bn_mp_mod_2d.cov.lo ../libtommath/bn_mp_montgomery_calc_normalization.cov.lo ../libtommath/bn_mp_montgomery_reduce.cov.lo ../libtommath/bn_mp_montgomery_setup.cov.lo ../libtommath/bn_mp_mul.cov.lo ../libtommath/bn_mp_mul_2.cov.lo ../libtommath/bn_mp_mul_2d.cov.lo ../libtommath/bn_mp_mul_d.cov.lo ../libtommath/bn_mp_mulmod.cov.lo ../libtommath/bn_mp_neg.cov.lo ../libtommath/bn_mp_or.cov.lo ../libtommath/bn_mp_radix_size.cov.lo ../libtommath/bn_mp_reduce.cov.lo ../libtommath/bn_mp_reduce_2k.cov.lo ../libtommath/bn_mp_reduce_2k_l.cov.lo ../libtommath/bn_mp_reduce_2k_setup.cov.lo ../libtommath/bn_mp_reduce_2k_setup_l.cov.lo ../libtommath/bn_mp_reduce_is_2k.cov.lo ../libtommath/bn_mp_reduce_is_2k_l.cov.lo ../libtommath/bn_mp_reduce_setup.cov.lo ../libtommath/bn_mp_rshd.cov.lo ../libtommath/bn_mp_set.cov.lo ../libtommath/bn_mp_set_double.cov.lo ../libtommath/bn_mp_set_i32.cov.lo ../libtommath/bn_mp_set_i64.cov.lo ../libtommath/bn_mp_set_l.cov.lo ../libtommath/bn_mp_set_u32.cov.lo ../libtommath/bn_mp_set_u64.cov.lo ../libtommath/bn_mp_set_ul.cov.lo ../libtommath/bn_mp_sqr.cov.lo ../libtommath/bn_mp_sqrt.cov.lo ../libtommath/bn_mp_sub.cov.lo ../libtommath/bn_mp_sub_d.cov.lo ../libtommath/bn_mp_xor.cov.lo ../libtommath/bn_mp_zero.cov.lo ../libtommath/bn_s_mp_add.cov.lo ../libtommath/bn_s_mp_balance_mul.cov.lo ../libtommath/bn_s_mp_exptmod.cov.lo ../libtommath/bn_s_mp_exptmod_fast.cov.lo ../libtommath/bn_s_mp_invmod_fast.cov.lo ../libtommath/bn_s_mp_invmod_slow.cov.lo ../libtommath/bn_s_mp_karatsuba_mul.cov.lo ../libtommath/bn_s_mp_karatsuba_sqr.cov.lo ../libtommath/bn_s_mp_montgomery_reduce_fast.cov.lo ../libtommath/bn_s_mp_mul_digs.cov.lo ../libtommath/bn_s_mp_mul_digs_fast.cov.lo ../libtommath/bn_s_mp_mul_high_digs.cov.lo ../libtommath/bn_s_mp_mul_high_digs_fast.cov.lo ../libtommath/bn_s_mp_rand_platform.cov.lo ../libtommath/bn_s_mp_sqr.cov.lo ../libtommath/bn_s_mp_sqr_fast.cov.lo ../libtommath/bn_s_mp_sub.cov.lo ../libtommath/bn_s_mp_toom_mul.cov.lo ../libtommath/bn_s_mp_toom_sqr.cov.lo abs.cov.lo alist.cov.lo alloc.cov.lo arg.cov.lo array.cov.lo binding.cov.lo block.cov.lo bool.cov.lo buf.cov.lo buf_fd.cov.lo buf_file.cov.lo buf_getc.cov.lo buf_getchar.cov.lo buf_inspect.cov.lo buf_inspect_s16.cov.lo buf_inspect_s16_binary.cov.lo buf_inspect_s16_decimal.cov.lo buf_inspect_s16_hexadecimal.cov.lo buf_inspect_s16_octal.cov.lo buf_inspect_s32.cov.lo buf_inspect_s32_binary.cov.lo buf_inspect_s32_decimal.cov.lo buf_inspect_s32_hexadecimal.cov.lo buf_inspect_s32_octal.cov.lo buf_inspect_s64.cov.lo buf_inspect_s64_binary.cov.lo buf_inspect_s64_decimal.cov.lo buf_inspect_s64_hexadecimal.cov.lo buf_inspect_s64_octal.cov.lo buf_inspect_s8.cov.lo buf_inspect_s8_binary.cov.lo buf_inspect_s8_decimal.cov.lo buf_inspect_s8_hexadecimal.cov.lo buf_inspect_s8_octal.cov.lo buf_inspect_sw.cov.lo buf_inspect_sw_binary.cov.lo buf_inspect_sw_decimal.cov.lo buf_inspect_sw_hexadecimal.cov.lo buf_inspect_sw_octal.cov.lo buf_inspect_u16.cov.lo buf_inspect_u16_binary.cov.lo buf_inspect_u16_decimal.cov.lo buf_inspect_u16_hexadecimal.cov.lo buf_inspect_u16_octal.cov.lo buf_inspect_u32.cov.lo buf_inspect_u32_binary.cov.lo buf_inspect_u32_decimal.cov.lo buf_inspect_u32_hexadecimal.cov.lo buf_inspect_u32_octal.cov.lo buf_inspect_u64.cov.lo buf_inspect_u64_binary.cov.lo buf_inspect_u64_decimal.cov.lo buf_inspect_u64_hexadecimal.cov.lo buf_inspect_u64_octal.cov.lo buf_inspect_u8.cov.lo buf_inspect_u8_binary.cov.lo buf_inspect_u8_decimal.cov.lo buf_inspect_u8_hexadecimal.cov.lo buf_inspect_u8_octal.cov.lo buf_inspect_uw.cov.lo buf_inspect_uw_binary.cov.lo buf_inspect_uw_decimal.cov.lo buf_inspect_uw_hexadecimal.cov.lo buf_inspect_uw_octal.cov.lo buf_parse.cov.lo buf_parse_s16.cov.lo buf_parse_s32.cov.lo buf_parse_s64.cov.lo buf_parse_s8.cov.lo buf_parse_sw.cov.lo buf_parse_u16.cov.lo buf_parse_u32.cov.lo buf_parse_u64.cov.lo buf_parse_u8.cov.lo buf_parse_uw.cov.lo buf_rw.cov.lo buf_save.cov.lo call.cov.lo callable.cov.lo cast.cov.lo ceiling.cov.lo cfn.cov.lo character.cov.lo compare.cov.lo complex.cov.lo cow.cov.lo crypt.cov.lo crypt_sha512.cov.lo data.cov.lo deserialize.cov.lo env.cov.lo env_fork.cov.lo error.cov.lo error_handler.cov.lo eval.cov.lo f128.cov.lo f32.cov.lo f64.cov.lo fact.cov.lo fact_action.cov.lo fact_list.cov.lo facts.cov.lo facts_cursor.cov.lo facts_spec.cov.lo facts_spec_cursor.cov.lo facts_transaction.cov.lo facts_with.cov.lo facts_with_cursor.cov.lo fd.cov.lo file.cov.lo fn.cov.lo fn_clause.cov.lo frame.cov.lo hash.cov.lo ident.cov.lo inspect.cov.lo integer.cov.lo io.cov.lo kc3.cov.lo license.cov.lo list.cov.lo list_init.cov.lo log.cov.lo map.cov.lo module.cov.lo mutex.cov.lo operator.cov.lo pcomplex.cov.lo pcow.cov.lo pretty.cov.lo ptag.cov.lo ptr.cov.lo ptr_free.cov.lo queue.cov.lo quote.cov.lo ratio.cov.lo rwlock.cov.lo s16.cov.lo s32.cov.lo s64.cov.lo s8.cov.lo sequence.cov.lo serialize.cov.lo set__fact.cov.lo set__tag.cov.lo set_cursor__fact.cov.lo set_cursor__tag.cov.lo set_item__fact.cov.lo set_item__tag.cov.lo sh.cov.lo sha1.cov.lo sign.cov.lo skiplist__fact.cov.lo skiplist_node__fact.cov.lo special_operator.cov.lo str.cov.lo struct.cov.lo struct_type.cov.lo sw.cov.lo sym.cov.lo tag.cov.lo tag_add.cov.lo tag_addi.cov.lo tag_band.cov.lo tag_bnot.cov.lo tag_bor.cov.lo tag_bxor.cov.lo tag_div.cov.lo tag_init.cov.lo tag_mod.cov.lo tag_mul.cov.lo tag_neg.cov.lo tag_shift_left.cov.lo tag_shift_right.cov.lo tag_sqrt.cov.lo tag_sub.cov.lo tag_type.cov.lo time.cov.lo to_lisp.cov.lo tuple.cov.lo u16.cov.lo u32.cov.lo u64.cov.lo u8.cov.lo ucd.cov.lo unquote.cov.lo uw.cov.lo var.cov.lo void.cov.lo wait.cov.lo "
LIBS=" -L/usr/local/lib -lffi -lm -lpthread -rpath /usr/local/lib -lgcov"

/usr/local/bin/libtool --tag=CC --mode=link  ${CC} -shared ${CFLAGS} ${LDFLAGS} ${OBJECTS} ${LIBS} -rpath /usr/local/lib -o "$1" > "$LOG" 2>&1 || /usr/local/bin/libtool --tag=CC --mode=link  ${CC} -shared ${CFLAGS} ${LDFLAGS} ${OBJECTS} ${LIBS} -rpath /usr/local/lib -o "$1"

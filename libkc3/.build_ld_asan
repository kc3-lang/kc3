#!/bin/sh
# gen by configure
LOG=".build/$1.asan.log"
CC="cc"
CFLAGS=" -W -Wall -Werror -std=c11 -pedantic -pipe -pthread -I/usr/local/include -DDEBUG -O2 -g -fsanitize=address -fno-omit-frame-pointer"
LDFLAGS="-export-dynamic  -no-undefined -rdynamic"
OBJECTS=" ../libtommath/bn_cutoffs.asan.lo ../libtommath/bn_mp_2expt.asan.lo ../libtommath/bn_mp_abs.asan.lo ../libtommath/bn_mp_add.asan.lo ../libtommath/bn_mp_add_d.asan.lo ../libtommath/bn_mp_and.asan.lo ../libtommath/bn_mp_clamp.asan.lo ../libtommath/bn_mp_clear.asan.lo ../libtommath/bn_mp_clear_multi.asan.lo ../libtommath/bn_mp_cmp.asan.lo ../libtommath/bn_mp_cmp_d.asan.lo ../libtommath/bn_mp_cmp_mag.asan.lo ../libtommath/bn_mp_cnt_lsb.asan.lo ../libtommath/bn_mp_complement.asan.lo ../libtommath/bn_mp_copy.asan.lo ../libtommath/bn_mp_count_bits.asan.lo ../libtommath/bn_mp_div.asan.lo ../libtommath/bn_mp_div_2.asan.lo ../libtommath/bn_mp_div_2d.asan.lo ../libtommath/bn_mp_div_3.asan.lo ../libtommath/bn_mp_div_d.asan.lo ../libtommath/bn_mp_dr_is_modulus.asan.lo ../libtommath/bn_mp_dr_reduce.asan.lo ../libtommath/bn_mp_dr_setup.asan.lo ../libtommath/bn_mp_error_to_string.asan.lo ../libtommath/bn_mp_exch.asan.lo ../libtommath/bn_mp_exptmod.asan.lo ../libtommath/bn_mp_gcd.asan.lo ../libtommath/bn_mp_get_double.asan.lo ../libtommath/bn_mp_get_i32.asan.lo ../libtommath/bn_mp_get_i64.asan.lo ../libtommath/bn_mp_get_mag_u32.asan.lo ../libtommath/bn_mp_get_mag_u64.asan.lo ../libtommath/bn_mp_grow.asan.lo ../libtommath/bn_mp_init.asan.lo ../libtommath/bn_mp_init_copy.asan.lo ../libtommath/bn_mp_init_multi.asan.lo ../libtommath/bn_mp_init_size.asan.lo ../libtommath/bn_mp_invmod.asan.lo ../libtommath/bn_mp_lcm.asan.lo ../libtommath/bn_mp_lshd.asan.lo ../libtommath/bn_mp_mod.asan.lo ../libtommath/bn_mp_mod_2d.asan.lo ../libtommath/bn_mp_montgomery_calc_normalization.asan.lo ../libtommath/bn_mp_montgomery_reduce.asan.lo ../libtommath/bn_mp_montgomery_setup.asan.lo ../libtommath/bn_mp_mul.asan.lo ../libtommath/bn_mp_mul_2.asan.lo ../libtommath/bn_mp_mul_2d.asan.lo ../libtommath/bn_mp_mul_d.asan.lo ../libtommath/bn_mp_mulmod.asan.lo ../libtommath/bn_mp_neg.asan.lo ../libtommath/bn_mp_or.asan.lo ../libtommath/bn_mp_radix_size.asan.lo ../libtommath/bn_mp_reduce.asan.lo ../libtommath/bn_mp_reduce_2k.asan.lo ../libtommath/bn_mp_reduce_2k_l.asan.lo ../libtommath/bn_mp_reduce_2k_setup.asan.lo ../libtommath/bn_mp_reduce_2k_setup_l.asan.lo ../libtommath/bn_mp_reduce_is_2k.asan.lo ../libtommath/bn_mp_reduce_is_2k_l.asan.lo ../libtommath/bn_mp_reduce_setup.asan.lo ../libtommath/bn_mp_rshd.asan.lo ../libtommath/bn_mp_set.asan.lo ../libtommath/bn_mp_set_double.asan.lo ../libtommath/bn_mp_set_i32.asan.lo ../libtommath/bn_mp_set_i64.asan.lo ../libtommath/bn_mp_set_l.asan.lo ../libtommath/bn_mp_set_u32.asan.lo ../libtommath/bn_mp_set_u64.asan.lo ../libtommath/bn_mp_set_ul.asan.lo ../libtommath/bn_mp_sqr.asan.lo ../libtommath/bn_mp_sqrt.asan.lo ../libtommath/bn_mp_sub.asan.lo ../libtommath/bn_mp_sub_d.asan.lo ../libtommath/bn_mp_xor.asan.lo ../libtommath/bn_mp_zero.asan.lo ../libtommath/bn_s_mp_add.asan.lo ../libtommath/bn_s_mp_balance_mul.asan.lo ../libtommath/bn_s_mp_exptmod.asan.lo ../libtommath/bn_s_mp_exptmod_fast.asan.lo ../libtommath/bn_s_mp_invmod_fast.asan.lo ../libtommath/bn_s_mp_invmod_slow.asan.lo ../libtommath/bn_s_mp_karatsuba_mul.asan.lo ../libtommath/bn_s_mp_karatsuba_sqr.asan.lo ../libtommath/bn_s_mp_montgomery_reduce_fast.asan.lo ../libtommath/bn_s_mp_mul_digs.asan.lo ../libtommath/bn_s_mp_mul_digs_fast.asan.lo ../libtommath/bn_s_mp_mul_high_digs.asan.lo ../libtommath/bn_s_mp_mul_high_digs_fast.asan.lo ../libtommath/bn_s_mp_rand_platform.asan.lo ../libtommath/bn_s_mp_sqr.asan.lo ../libtommath/bn_s_mp_sqr_fast.asan.lo ../libtommath/bn_s_mp_sub.asan.lo ../libtommath/bn_s_mp_toom_mul.asan.lo ../libtommath/bn_s_mp_toom_sqr.asan.lo abs.asan.lo alist.asan.lo alloc.asan.lo arg.asan.lo array.asan.lo binding.asan.lo block.asan.lo bool.asan.lo buf.asan.lo buf_fd.asan.lo buf_file.asan.lo buf_getc.asan.lo buf_getchar.asan.lo buf_inspect.asan.lo buf_inspect_s16.asan.lo buf_inspect_s16_binary.asan.lo buf_inspect_s16_decimal.asan.lo buf_inspect_s16_hexadecimal.asan.lo buf_inspect_s16_octal.asan.lo buf_inspect_s32.asan.lo buf_inspect_s32_binary.asan.lo buf_inspect_s32_decimal.asan.lo buf_inspect_s32_hexadecimal.asan.lo buf_inspect_s32_octal.asan.lo buf_inspect_s64.asan.lo buf_inspect_s64_binary.asan.lo buf_inspect_s64_decimal.asan.lo buf_inspect_s64_hexadecimal.asan.lo buf_inspect_s64_octal.asan.lo buf_inspect_s8.asan.lo buf_inspect_s8_binary.asan.lo buf_inspect_s8_decimal.asan.lo buf_inspect_s8_hexadecimal.asan.lo buf_inspect_s8_octal.asan.lo buf_inspect_sw.asan.lo buf_inspect_sw_binary.asan.lo buf_inspect_sw_decimal.asan.lo buf_inspect_sw_hexadecimal.asan.lo buf_inspect_sw_octal.asan.lo buf_inspect_u16.asan.lo buf_inspect_u16_binary.asan.lo buf_inspect_u16_decimal.asan.lo buf_inspect_u16_hexadecimal.asan.lo buf_inspect_u16_octal.asan.lo buf_inspect_u32.asan.lo buf_inspect_u32_binary.asan.lo buf_inspect_u32_decimal.asan.lo buf_inspect_u32_hexadecimal.asan.lo buf_inspect_u32_octal.asan.lo buf_inspect_u64.asan.lo buf_inspect_u64_binary.asan.lo buf_inspect_u64_decimal.asan.lo buf_inspect_u64_hexadecimal.asan.lo buf_inspect_u64_octal.asan.lo buf_inspect_u8.asan.lo buf_inspect_u8_binary.asan.lo buf_inspect_u8_decimal.asan.lo buf_inspect_u8_hexadecimal.asan.lo buf_inspect_u8_octal.asan.lo buf_inspect_uw.asan.lo buf_inspect_uw_binary.asan.lo buf_inspect_uw_decimal.asan.lo buf_inspect_uw_hexadecimal.asan.lo buf_inspect_uw_octal.asan.lo buf_parse.asan.lo buf_parse_s16.asan.lo buf_parse_s32.asan.lo buf_parse_s64.asan.lo buf_parse_s8.asan.lo buf_parse_sw.asan.lo buf_parse_u16.asan.lo buf_parse_u32.asan.lo buf_parse_u64.asan.lo buf_parse_u8.asan.lo buf_parse_uw.asan.lo buf_rw.asan.lo buf_save.asan.lo call.asan.lo callable.asan.lo cast.asan.lo ceiling.asan.lo cfn.asan.lo character.asan.lo compare.asan.lo complex.asan.lo cow.asan.lo crypt.asan.lo crypt_sha512.asan.lo data.asan.lo deserialize.asan.lo env.asan.lo env_fork.asan.lo error.asan.lo error_handler.asan.lo eval.asan.lo f128.asan.lo f32.asan.lo f64.asan.lo fact.asan.lo fact_action.asan.lo fact_list.asan.lo facts.asan.lo facts_cursor.asan.lo facts_spec.asan.lo facts_spec_cursor.asan.lo facts_transaction.asan.lo facts_with.asan.lo facts_with_cursor.asan.lo fd.asan.lo file.asan.lo fn.asan.lo fn_clause.asan.lo frame.asan.lo hash.asan.lo ident.asan.lo inspect.asan.lo integer.asan.lo io.asan.lo kc3.asan.lo license.asan.lo list.asan.lo list_init.asan.lo log.asan.lo map.asan.lo module.asan.lo mutex.asan.lo operator.asan.lo pcomplex.asan.lo pcow.asan.lo pretty.asan.lo ptag.asan.lo ptr.asan.lo ptr_free.asan.lo queue.asan.lo quote.asan.lo ratio.asan.lo rwlock.asan.lo s16.asan.lo s32.asan.lo s64.asan.lo s8.asan.lo sequence.asan.lo serialize.asan.lo set__fact.asan.lo set__tag.asan.lo set_cursor__fact.asan.lo set_cursor__tag.asan.lo set_item__fact.asan.lo set_item__tag.asan.lo sh.asan.lo sha1.asan.lo sign.asan.lo skiplist__fact.asan.lo skiplist_node__fact.asan.lo special_operator.asan.lo str.asan.lo struct.asan.lo struct_type.asan.lo sw.asan.lo sym.asan.lo tag.asan.lo tag_add.asan.lo tag_addi.asan.lo tag_band.asan.lo tag_bnot.asan.lo tag_bor.asan.lo tag_bxor.asan.lo tag_div.asan.lo tag_init.asan.lo tag_mod.asan.lo tag_mul.asan.lo tag_neg.asan.lo tag_shift_left.asan.lo tag_shift_right.asan.lo tag_sqrt.asan.lo tag_sub.asan.lo tag_type.asan.lo time.asan.lo to_lisp.asan.lo tuple.asan.lo u16.asan.lo u32.asan.lo u64.asan.lo u8.asan.lo ucd.asan.lo unquote.asan.lo uw.asan.lo var.asan.lo void.asan.lo wait.asan.lo "
LIBS=" -L/usr/local/lib -lffi -lm -lpthread -rpath /usr/local/lib"

/usr/local/bin/libtool --tag=CC --mode=link  ${CC} -shared ${CFLAGS} ${LDFLAGS} ${OBJECTS} ${LIBS} -rpath /usr/local/lib -o "$1" > "$LOG" 2>&1 || /usr/local/bin/libtool --tag=CC --mode=link  ${CC} -shared ${CFLAGS} ${LDFLAGS} ${OBJECTS} ${LIBS} -rpath /usr/local/lib -o "$1"
